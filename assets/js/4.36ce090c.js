(window.webpackJsonp=window.webpackJsonp||[]).push([[4,152],{526:function(t,e,n){"use strict";var i=n(3),r=n(55).find,a=n(175),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("find")},527:function(t,e,n){"use strict";var i=n(12),r=n(177),a=n(10),o=n(30),s=n(528),u=n(15),c=n(56),l=n(178);r("search",(function(t,e,n){return[function(e){var n=o(this),r=null==e?void 0:c(e,t);return r?i(r,e,n):new RegExp(e)[t](u(n))},function(t){var i=a(this),r=u(t),o=n(e,i,r);if(o.done)return o.value;var c=i.lastIndex;s(c,0)||(i.lastIndex=0);var f=l(i,r);return s(i.lastIndex,c)||(i.lastIndex=c),null===f?-1:f.index}]}))},528:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},532:function(t,e,n){"use strict";var i=n(3),r=n(1),a=n(119),o=n(79),s=n(31),u=n(19),c=n(184),l=n(63),f=n(82)("splice"),d=r.TypeError,h=Math.max,p=Math.min;i({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var n,i,r,f,m,g,v=u(this),y=s(v),b=a(t,y),$=arguments.length;if(0===$?n=i=0:1===$?(n=0,i=y-b):(n=$-2,i=p(h(o(e),0),y-b)),y+n-i>9007199254740991)throw d("Maximum allowed length exceeded");for(r=c(v,i),f=0;f<i;f++)(m=b+f)in v&&l(r,f,v[m]);if(r.length=i,n<i){for(f=b;f<y-i;f++)g=f+n,(m=f+i)in v?v[g]=v[m]:delete v[g];for(f=y;f>y-i+n;f--)delete v[f-1]}else if(n>i)for(f=y-i;f>b;f--)g=f+n-1,(m=f+i-1)in v?v[g]=v[m]:delete v[g];for(f=0;f<n;f++)v[f+b]=arguments[f+2];return v.length=y-i+n,r}})},534:function(t,e,n){},535:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i=[{label:"支付宝",value:0},{label:"微信",value:1},{label:"对公",value:2}],r=[{label:"插件定制/远程协助",value:1,money:100},{label:"全家桶",value:2,money:999,hide:!0},{label:"数据大屏",value:4,money:2499},{label:"商业桶",value:3,money:2999},{label:"BladeXAvue联合版",value:10,href:"https://bladex.vip/#/pay?version=3",disabled:!0,hide:!0,money:6600}]},550:function(t,e,n){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",i="second",r="minute",a="hour",o="day",s="week",u="month",c="quarter",l="year",f="date",d="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},v={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+g(i,2,"0")+":"+g(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,u),a=n-r<0,o=e.clone().add(i+(a?-1:1),u);return+(-(i+(n-r)/(a?r-o:o-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:l,w:s,d:o,D:f,h:a,m:r,s:i,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",b={};b[y]=m;var $=function(t){return t instanceof q},w=function(t,e,n){var i;if(!t)return y;if("string"==typeof t)b[t]&&(i=t),e&&(b[t]=e,i=t);else{var r=t.name;b[r]=t,i=r}return!n&&i&&(y=i),i||!n&&y},D=function(t,e){if($(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new q(n)},M=v;M.l=w,M.i=$,M.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var q=function(){function m(t){this.$L=w(t.locale,null,!0),this.parse(t)}var g=m.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(M.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(h);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return M},g.isValid=function(){return!(this.$d.toString()===d)},g.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return D(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<D(t)},g.$g=function(t,e,n){return M.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,c=!!M.u(e)||e,d=M.p(t),h=function(t,e){var i=M.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?i:i.endOf(o)},p=function(t,e){return M.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case l:return c?h(1,0):h(31,11);case u:return c?h(1,g):h(0,g+1);case s:var b=this.$locale().weekStart||0,$=(m<b?m+7:m)-b;return h(c?v-$:v+(6-$),g);case o:case f:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case r:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var s,c=M.p(t),d="set"+(this.$u?"UTC":""),h=(s={},s[o]=d+"Date",s[f]=d+"Date",s[u]=d+"Month",s[l]=d+"FullYear",s[a]=d+"Hours",s[r]=d+"Minutes",s[i]=d+"Seconds",s[n]=d+"Milliseconds",s)[c],p=c===o?this.$D+(e-this.$W):e;if(c===u||c===l){var m=this.clone().set(f,1);m.$d[h](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[M.p(t)]()},g.add=function(n,c){var f,d=this;n=Number(n);var h=M.p(c),p=function(t){var e=D(d);return M.w(e.date(e.date()+Math.round(t*n)),d)};if(h===u)return this.set(u,this.$M+n);if(h===l)return this.set(l,this.$y+n);if(h===o)return p(1);if(h===s)return p(7);var m=(f={},f[r]=t,f[a]=e,f[i]=1e3,f)[h]||1,g=this.$d.getTime()+n*m;return M.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=M.z(this),a=this.$H,o=this.$m,s=this.$M,u=n.weekdays,c=n.months,l=function(t,n,r,a){return t&&(t[n]||t(e,i))||r[n].substr(0,a)},f=function(t){return M.s(a%12||12,t,"0")},h=n.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:M.s(s+1,2,"0"),MMM:l(n.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(a),HH:M.s(a,2,"0"),h:f(1),hh:f(2),a:h(a,o,!0),A:h(a,o,!1),m:String(o),mm:M.s(o,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:r};return i.replace(p,(function(t,e){return e||m[t]||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,d){var h,p=M.p(f),m=D(n),g=(m.utcOffset()-this.utcOffset())*t,v=this-m,y=M.m(this,m);return y=(h={},h[l]=y/12,h[u]=y,h[c]=y/3,h[s]=(v-g)/6048e5,h[o]=(v-g)/864e5,h[a]=v/e,h[r]=v/t,h[i]=v/1e3,h)[p]||v,d?y:M.a(y)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return b[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=w(t,e,!0);return i&&(n.$L=i),n},g.clone=function(){return M.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),_=q.prototype;return D.prototype=_,[["$ms",n],["$s",i],["$m",r],["$H",a],["$W",o],["$M",u],["$y",l],["$D",f]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t.$i||(t(e,q,D),t.$i=!0),D},D.locale=w,D.isDayjs=$,D.unix=function(t){return D(1e3*t)},D.en=b[y],D.Ls=b,D.p={},D}()},551:function(t,e,n){"use strict";n(534)},586:function(t,e,n){"use strict";n.r(e);n(117),n(287);var i={name:"sqs",data:function(){return{loading:!1,flag:!1,form:{id:"",date:"",name:"",qq:""}}},props:{active:{type:Object,default:function(){return{}}}},watch:{active:{handler:function(){this.init()},deep:!0},data:{handler:function(){this.init()},deep:!0}},created:function(){this.init()},computed:{data:function(){return{img:"/images/sqstemp.jpg",list:[{left:140,top:665,text:'" '.concat(this.form.name,' "'),color:"#333",size:34,bold:!0,style:"黑体"},{left:280,top:1049,text:this.form.id,color:"#333",size:26,bold:!0,style:"黑体"},{left:740,top:1049,text:this.form.date,color:"#333",bold:!0,size:26,style:"黑体"}]}}},methods:{init:function(){var t=this;this.flag=!1,this.form.id=this.active.compid||this.$route.query.id,this.form.date=this.active.datetime||this.$route.query.date,this.form.name=this.active.mc||this.$route.query.name,this.form.qq=(this.active.qq||this.$route.query.qq)+"@qq.com",setTimeout((function(){t.flag=!0}))},handleSend:function(){var t=this;this.loading=!0,this.$refs.license.getFile(this.form.name).then((function(e){var n=new FormData;n.append("file",e,e.name),n.append("qq",t.form.qq),n.append("id",t.form.id),n.append("token","avue"),t.$axios.post(t.website.API+"/upload",n,{"Content-Type":"multipart/form-data"}).then((function(){t.loading=!1,t.$message.success("发送成功")})).catch((function(){t.$message.error("发送失败"),t.loading=!1}))}))},handleUpload:function(){this.$refs.license.getPdf(this.form.name)}}},r=(n(551),n(29)),a=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sqs"},[t.flag?n("el-button",{on:{click:t.handleUpload}},[t._v("下载授权书")]):t._e(),t._v(" "),t.flag?n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSend}},[t._v("发送授权书")]):t._e(),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),t.flag?n("div",{staticClass:"content"},[n("avue-license",{ref:"license",attrs:{option:t.data}})],1):t._e(),t._v(" "),n("auth",{ref:"auth",on:{submit:t.init}})],1)}),[],!1,null,null,null);e.default=a.exports},832:function(t,e,n){"use strict";n.r(e);n(116),n(7),n(171),n(172),n(526),n(297),n(37),n(120),n(288),n(174),n(289),n(296),n(117),n(532),n(527);var i=n(550),r=n.n(i),a=n(586),o=n(535);var s={name:"payList",components:{Sqs:a.default},data:function(){return{count:0,moneyData:[],moneyList:{},dialogVisible:!1,search:{},page:{currentPage:1,total:0,pageSizes:[10,30,50,100,200,1e3],pageSize:50},fpbox:!1,fpform:{qq:""},fpoption:{size:"mini",emptyBtn:!1,filterDic:!0,column:[{label:"订单号",prop:"orderid",disabled:!0,span:24},{label:"编号",prop:"compid",span:24},{label:"公司名称",prop:"mc",rules:[{required:!0,message:"请输入公司名称",trigger:"blur"}],span:24},{label:"脱敏名称",prop:"hide",type:"switch",span:24,dicData:[{label:"显示",value:!1},{label:"隐藏",value:!0}]},{label:"公司税号",prop:"sh",span:24}]},option:{filterDic:!0,filterNull:!0,searchFilterNull:!0,searchFilterDic:!0,excelBtn:!0,addBtn:!1,editBtn:!1,delBtn:!1,index:!0,border:!0,headerAlign:"center",align:"center",showSummary:!0,menuWidth:140,searchMenuSpan:5,sumColumnList:[{name:"money",type:"sum"}],column:[{label:"订单号",prop:"orderid",search:!0,searchSpan:5,width:190},{label:"套餐名",prop:"version",type:"select",dicData:o.a,filter:!0},{label:"金额",prop:"money"},{label:"备注QQ",prop:"qq",searchSpan:5,search:!0},{label:"支付类型",prop:"type",type:"select",slot:!0,dicData:o.b,filter:!0},{label:"状态",prop:"flag",type:"select",searchSpan:5,search:!0,filter:!0,dicData:[{label:"已付款",value:!0},{label:"未付款",value:!1}]},{label:"退款状态",prop:"refund",type:"select",dicData:[{label:"是",value:!0},{label:"否",value:""}]},{label:"下单日期",width:150,type:"date",valueFormat:"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss",prop:"createdAt"}]},list:[]}},watch:{"fpform.hide":function(t){this.fpform.cym=t?"*":""}},computed:{data2Option:function(){var t,e=this;return{categories:(t=[],Object.keys(e.moneyList).forEach((function(e,n){t.push(n+1+"月")})),t),series:[{name:"月销量",data:function(){var t=[];return Object.keys(e.moneyList).forEach((function(n){t.push(e.moneyList[n])})),t}()}]}},data1Option:function(){var t=this,e=[];return Object.keys(this.moneyList).forEach((function(n,i){e.push({count:t.moneyList[n],title:i+1+"月"})})),{span:6,data:e}},dataOption:function(){return{span:6,data:[{title:"总金额",count:this.moneyData[0]||0,icon:"el-icon-s-check",color:"#409eff"},{title:"今年金额",count:this.moneyData[1]||0,icon:"el-icon-s-order",color:"#E6A23C",target:"_blank"},{title:"今日金额",count:this.moneyData[2]||0,icon:"el-icon-tickets",color:"#F56C6C"},{title:"今日单数",count:this.moneyData[3]||0,icon:"el-icon-user",color:"rgb(97, 60, 189)"}]}}},methods:{searchChange:function(t,e){this.page.currentPage=1,this.getList(),e(),this.$message.success("搜索成功")},handleRowDBLClick:function(t){this.handleReset(t)},buildId:function(){var t=this,e=this.Bmob.Query("ticket");e.equalTo("special","!=",!0),e.equalTo("compid","!=",""),e.order("-datetime","-compid"),e.limit(1),e.find().then((function(e){for(var n=Number(e[0].compid.replace(/[^0-9]/gi,""))+1,i=5-(n+"").length,r="",a=0;a<i;a++)r+="0";r="A"+r+n,t.fpform.compid=r,t.$message.success("生成成功")}))},getSrc:function(t){return 0==t.type?"/images/zfbicon.png":1==t.type?" /images/wxicon.png":2==t.type?" /images/gongicon.png":void 0},getMoneyData:function(){var t=this,e=this.Bmob.Query("order"),n=new Date,i=n.getMonth()+1;i=i<10?"0"+i:i;var a=n.getFullYear();e.equalTo("flag","==",!0),e.statTo("sum","money"),e.find().then((function(e){t.$set(t.moneyData,0,e[0]._sumMoney)})),(e=this.Bmob.Query("order")).equalTo("flag","==",!0),e.equalTo("datetime",">=","".concat(a,"-01-01")),e.statTo("sum","money"),e.find().then((function(e){t.$set(t.moneyData,1,e[0]._sumMoney)}));for(var o=1;o<=Number(i);o++){e=this.Bmob.Query("order");var s=n.getMonth();s=o<10?"0"+o:o,e.equalTo("datetime",">=","".concat(a,"-").concat(s,"-01")),e.equalTo("datetime","<=","".concat(a,"-").concat(s,"-31")),e.equalTo("flag","==",!0),e.statTo("sum","money"),function(n){e.find().then((function(e){t.count=t.count+e[0]._sumMoney,t.$set(t.moneyList,n,e[0]._sumMoney)}))}(o)}(e=this.Bmob.Query("order")).equalTo("datetime",">",r()().format("YYYY-MM-DD")),e.equalTo("flag","==",!0),e.statTo("sum","money"),e.find().then((function(e){e[0]&&t.$set(t.moneyData,2,e[0]._sumMoney)})),(e=this.Bmob.Query("order")).equalTo("flag","==",!0),e.equalTo("datetime",">",r()().format("YYYY-MM-DD")),e.count().then((function(e){t.$set(t.moneyData,3,e)}))},currentChange:function(t){this.page.currentPage=t,this.getList()},insert:function(t,e){var n=this.Bmob.Query(e||"order");return t.cym=t.cym||"",Object.keys(t).forEach((function(e){e.includes("$")?n.set(e.replace("$","")+"_text",t[e]):n.set(e,t[e])})),n.save()},fpBuild:function(){this.dialogVisible=!0},fpSubmit:function(t,e){var n=this;this.fpform.datetime||(this.fpform.datetime=r()().format("YYYY.MM.DD")),t=this.deepClone(this.fpform),this.fpform.objectId?this.update(t.objectId,t,"ticket").then((function(){e(),n.$message.success("发票修改成功")})).catch((function(){e()})):this.insert(t,"ticket").then((function(){e(),n.$message.success("发票新增成功")})).catch((function(){e()}))},beforeClose:function(t){this.$set(this.fpform,{}),t()},handleFp:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getFp(e).then((function(){t.fpbox=!0}))},getFp:function(t){var e=this;return new Promise((function(n){var i=e.Bmob.Query("ticket");i.equalTo("orderid","==",t.orderid),Object.keys(e.fpform).forEach((function(t){e.$set(e.fpform,t,"")})),i.find().then((function(i){e.fpform=i[0]||{},e.validatenull(e.fpform)&&(e.fpform.orderid=t.orderid),e.fpform.hide=!e.validatenull(e.fpform.cym),e.fpform.qq=t.qq,n()}))}))},update:function(t,e,n){var i=this.deepClone(e),r=this.Bmob.Query(n||"order");return r.set("id",t),Object.keys(i).forEach((function(t){["createdAt","updatedAt","objectId","[object Object]"].includes(t)||r.set(t,i[t])})),r.save()},del:function(t){return this.Bmob.Query("order").destroy(t)},rowStyle:function(t){if(!t.row.flag)return{backgroundColor:"rgba(245,108,108,0.1)"}},sizeChange:function(t){this.page.pageSize=t,this.getList()},cellStyle:function(t){var e=t.row;t.columnIndex;if("flag"==t.column.property)return{color:e.flag?"#67C23A":"#F56C6C",fontWeight:"bold",fontSize:"20"}},handleDel:function(t){var e=this;this.$confirm("是否删除【".concat(t.qq,"】的【").concat(t.name,"】订单"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.del(t.objectId)})).then((function(){e.list.splice(t.$index,1),e.$message.success("删除成功")}))},handleRefund:function(t){var e=this;this.$confirm("是否发起【".concat(t.qq,"】的【").concat(t.name,"】订单退款"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$axios.get(e.website.API+"/payrefund",{params:{id:t.objectId}}).then((function(t){e.$alert("".concat(t.data.data.msg),"提示",{confirmButtonText:"确定"})}))}))},handleReset:function(t){var e=this;this.$confirm("是否补【".concat(t.qq,"】的【").concat(t.name,"】订单"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n=(t.version,"avue-default");e.$axios.post(e.website.GIT.url,"username=".concat(t.qq,"&type=").concat(n,"&tenant=avuex")).then((function(t){e.$alert("".concat(t.data),"提示",{confirmButtonText:"确定"})}))}))},handleOk:function(t){var e=this;this.$confirm("是否更新【".concat(t.qq,"】的【").concat(t.name,"】权限"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.flag=!0,e.update(t.objectId,{flag:!0}),e.handleReset(t)}))},refreshChange:function(){this.list=[],this.$message.success("刷新成功"),this.getList()},getList:function(){var t=this;if(this.$refs.auth.flag){var e=this.Bmob.Query("order");for(var n in this.search)e.equalTo(n,"==",this.search[n]);e.count().then((function(n){t.page.total=n;var i=(t.page.currentPage-1)*t.page.pageSize,r=t.page.pageSize*t.page.currentPage;for(var a in e.limit(r),e.skip(i),t.search)e.equalTo(a,"==",t.search[a]);return e.order("-datetime"),e.find()})).then((function(e){t.list=e})),this.getMoneyData()}}}},u=n(29),c=Object(u.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payList"},[n("avue-crud",{attrs:{option:t.option,data:t.list,page:t.page,search:t.search,"row-style":t.rowStyle,"cell-style":t.cellStyle},on:{"update:page":function(e){t.page=e},"update:search":function(e){t.search=e},"search-change":t.searchChange,"row-dblclick":t.handleRowDBLClick,"size-change":t.sizeChange,"current-change":t.currentChange,"refresh-change":t.refreshChange},scopedSlots:t._u([{key:"type",fn:function(e){return[n("img",{attrs:{width:"30",src:t.getSrc(e.row)}})]}},{key:"menu",fn:function(e){return[[3,4,10].includes(e.row.version)&&e.row.flag?[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(n){return t.handleFp(e.row)}}},[t._v("发票")])]:t._e(),t._v(" "),e.row.flag?[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleReset(e.row)}}},[t._v("补单")]),t._v(" "),e.row.refund||1!==e.row.version?t._e():n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleRefund(e.row)}}},[t._v("退款")])]:[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleOk(e.row)}}},[t._v("开通")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDel(e.row)}}},[t._v("删除")])]]}}])},[n("template",{slot:"header"},[n("avue-data-display",{attrs:{option:t.dataOption}}),t._v(" "),n("avue-data-display",{attrs:{option:t.data1Option}})],1),t._v(" "),n("template",{slot:"menuRight"},[n("el-button",{attrs:{type:"danger",circle:"",icon:"el-icon-document",size:"small"},on:{click:function(e){return t.$router.push({path:"/views/fp"})}}})],1)],2),t._v(" "),n("el-dialog",{attrs:{title:"发票信息",top:"40px","before-close":t.beforeClose,visible:t.fpbox,width:"400px"},on:{"update:visible":function(e){t.fpbox=e}}},[n("avue-form",{attrs:{option:t.fpoption},on:{submit:t.fpSubmit},scopedSlots:t._u([{key:"compid",fn:function(e){return[n("el-input",{attrs:{placeholder:"请输入编号"},model:{value:t.fpform.compid,callback:function(e){t.$set(t.fpform,"compid",e)},expression:"fpform.compid"}},[n("div",{attrs:{slot:"append"},on:{click:t.buildId},slot:"append"},[t._v("自动生成编号")])])]}}]),model:{value:t.fpform,callback:function(e){t.fpform=e},expression:"fpform"}},[t._v(" "),n("template",{slot:"menuForm"},[n("el-button",{on:{click:t.fpBuild}},[t._v("生成授权书")])],1)],2)],1),t._v(" "),n("auth",{ref:"auth",on:{submit:t.getList}}),t._v(" "),n("el-dialog",{attrs:{title:"【"+t.fpform.qq+"-"+t.fpform.mc+"】授权书",visible:t.dialogVisible,width:"1100px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("Sqs",{attrs:{active:t.fpform}})],1)],1)}),[],!1,null,null,null);e.default=c.exports}}]);